%---------------------------------------------------------------------
%
%                          Capítulo 2
%
%---------------------------------------------------------------------

\chapter{Estado del Arte}

\begin{FraseCelebre}
\begin{Frase}
...
\end{Frase}
\begin{Fuente}
...
\end{Fuente}
\end{FraseCelebre}

%-------------------------------------------------------------------
\section{La realidad aumentada}
%-------------------------------------------------------------------
\label{cap2:sec:ra}

Según Ronald Azuma, desarrollador y líder de proyecto en New Media, Intel Corporation, y uno de los pioneros en el campo de la realidad aumentada, dice que la RA consta de las siguientes características:

\begin{itemize}
	\item{Combina elementos reales y virtuales.}
	\item{Es interactiva en tiempo real.}
	\item{Está registrada en 3D.}
\end{itemize}

A su vez, consta de unos requisitos mínimos para poder ser emulada, los cuales son:

\begin{enumerate}
\item{Una pantalla, donde mostrar la combinación de los elementos reales captados por algún dispositivo y los elementos virtuales generados por un software.}
\item{Un conjunto de dispositivos que capturen los elementos del entorno y nuestra situación como son una cámara, acelerómetro, giroscopio\ldots{} de tal forma que permita al software tener referencias de cómo y dónde debe mostrar sus elementos virtuales.}
\item{Un hardware relativamente potente, para poder realizar los cálculos necesarios para mostrar el entorno que captura la cámara y ser capaz de hacer frente al software que genera los elementos virtuales y combinarlos en la pantalla con los reales.}
\item{Un software capaz de reconocer el entorno y calcular donde y como debe representar los elementos virtuales combinados con los reales para conseguir una visión de RA.}
\end{enumerate}

Con el continuo avance de los dispositivos móviles y la potencia, a un coste aceptable para la mayoría, de la que constan ahora mismo estos,permiten que cualquier usuario pueda hacer uso de la RA, ya que sus Smartphones cumplen todos los requisitos para ello.

\section{Alcance}
%-------------------------------------------------------------------
\label{cap2:sec:alcance}

La RA es una tecnología que aunque ya lleva muchos años, no se conocía a nivel usuario, pero el incremento tan alto del uso de los
Smartphones en los últimos años en la sociedad, ha permitido crear más aplicaciones que todo el mundo pueda utilizar, ya que hoy en día casi cualquier persona de una edad comprendida entre los 16 y 55 años tiene un dispositivo móvil que le permite ejecutar una aplicación de RA en cualquier lugar y momento.

Ahora mismo, tiene diferentes aplicaciones en diversos campos como son:

\subsection{Información interactiva}
\label{cap2:sub:info}
En este caso se utiliza para dar a conocer de forma interactiva información acerca de un elemento cercano al usuario, de tal forma que se puede mostrar un tipo de información u otra en función de la interacción entre el usuario y dicho elemento.

Ahora mismo este área está muy presente en museos como forma  dinámica de conseguir una inmersión del usuario con lo que está viendo y hacer de su visita una experiencia más atractiva e incluso hasta más productiva.

Dentro de este campo también se hace uso de la RA en herramientas utilizadas para el intercambio de información en proyectos profesionales o con fines comerciales como el de mostrar catálogos de productos de una forma interactiva. 
%http://ciencialaultima.blogspot.com.es/2015/01/realidad-aumentada-y-realidad-virtual.html

\subsection{Entretenimiento}
\label{cap2:sub:entretenimiento}

En la actualidad, aunque no está todavía muy popularizado su uso, existen una gran cantidad de videojuegos que hacen uso de esta tecnología que, junto con diferentes mecánicas que se adaptan a ella, generan una novedosa experiencia para entretener el usuario.

\subsection{Ciencia y desarrollo}
\label{cap2:sub:ciencia}

Aunque todavía no está normalizado el uso de la RA en este campo, si están naciendo numerosos proyectos con el fin de desarrollar esta tecnología para utilizarse en áreas como la medicina y la construcción entre otras.
%http://mocadele.net/arloon-app-educativas-de-ciencias-con-realidad-aumentada/

\subsection{Otros}
\label{cap2:sub:otros}

Además de los ya mencionados, existen todavía muchísimas áreas en las que tienen cabida en sus tecnologías la RA además de muchos otros usos que o bien están por descubrir o no se consta todavía de la tecnología suficiente como para integrarlo.

Algo que todavía está en una fase temprana de desarrollo pero que tiene un futuro prometedor es el uso de la RA para generación de terreno de forma que se pueda reconocer el mismo y en función de su forma generar un medio en relación un entorno que todavía no estaba registrado. Esta tecnología dota de un sinfín de posibilidades añadidas a las ya existentes para el uso de la RA en muchos otros campos.

\section{Realidad aumentada en videojuegos}
%-------------------------------------------------------------------
\label{cap2:sec:videojuegos}

La RA está siendo un gran descubrimiento para distintos ámbitos en el mundo de la informática y la tecnología. Pero, el sector que más interesado está en integrar la RA en sus desarrollos, para hacerla llegar a gran parte de la sociedad, es el de los videojuegos. 

En los últimos años, han aparecido nuevas formas de jugar, y todas ellas intentan mejorar la experiencia del jugador, ya sea evadiendolo de la realidad inventando un mundo y un espacio completamente nuevo, como hace La Realidad Virtual, o como es en nuestro caso, añadiendo información al mundo real, con la RA. Esta última consigue que el jugador maximice la interacción con el juego, este motivo es lo que la hace tan atractiva para la industria del videojuego.

\subsection{Ejemplos de Realidad Aumentada en videojuegos}
\label{cap2:sub:ejemplosvideojuegos}

Hoy en día, la industria del videojuego está permanente creciendo, y la competencia es tan grande que siempre se están buscando nuevas formas de llamar la atención de los jugadores. Las nuevas tecnologías como la Realidad Virtual o la Realidad Aumentada son de las más utilizadas por las empresas para esto.

A continuación, se muestran algunos ejemplos de videojuegos con RA.

\begin{itemize}
	\item{Tarjetas RA Nintendo 3DS: Nintendo integra, desde su lanzamiento en 2011, los juegos en RA en su nueva consola. Puedes jugar a distintos minijuegos, utilizando las 6 tarjetas AR Cards. El jugador tiene también la posibilidad de desbloquear nuevos minijuegos.vA parte de estas aplicaciones preinstaladas en la consola, Nintendo ha ido sacando distintos juegos que también utilizan las AR Cards.}	

	\figura{Tfg/ARCards.jpg}{width=.5\textwidth}{fig:ARCards}
		{ AR Cards para Nintendo3DS}
	
	\item{Pokémon Go: En esta versión, los jugadores podrán salir a explorar su ciudad e ir en busca de nuevos pokémon que se esconden por escenarios reales. Los encargados del desarrollo de este juego es la empresa Niantic Labs.}

	\figura{Tfg/pokemonGO.jpg}{width=.5\textwidth}{fig:pokemonGo}
		{ Captura del juego Pokémon Go}

	\item{Ingress: Este juego es otro ejemplo de desarrollo de Niantic Labs. Pero en esta ocasión, se trata de un juego de rol donde el jugador debe decidir en qué bando se encuentra, y capturar los portales.}

	\figura{Tfg/ingress.png}{width=.5\textwidth}{fig:ingress}
		{ Captura del juego Ingress}

	\item{Pintball: Este juego creado por Mambo Studios, utiliza la realidad aumentada para simular una partida del juego con el mismo nombre, pero con la gran ventaja de poder jugarlo en cualquier lugar, sin necesidad de ninguna equipación especial.}

	\figura{Tfg/paintball.jpg}{width=.5\textwidth}{fig:paintball}
		{ Captura del juego Paintball}

	\item{Father.io: es un juego clasificado como shooter multijugador. Donde el objetivo del jugador es luchar en las calles, para conseguir capturar edificios e ir recolectando recursos para su equipo. Lo único necesario para poder jugar es un smartphone, pero se tiene la posibilidad de adquirir un Inceptor, un dispositivo que se adhiere al smartphone y que lo convierte en un arma láser.}

	\figura{Tfg/fatherIo.jpg}{width=.5\textwidth}{fig:fatherio}
		{ Captura del juego Father.io}

	\item{Nigtht Terrors: Es un juego Survival Horror al que se le añade la RA, lo que da aumenta la sensación de miedo en el jugador. Para poder jugar, solo necesitas una casa a oscuras y un smartphone, con esto el juego se encarga de ir reconociendo los elementos de la casa o el lugar en el que te encuentres, para integrarlos al juego. El objetivo del jugador es salvar a una niña y salir con vida.} 

	\figura{Tfg/nightTerrors.jpg}{width=.5\textwidth}{fig:night}
		{ Captura del juego Night Terrors}

\end{itemize}

Como hemos podido observar, existen una gran variedad de juegos que utilizan RA. y aunque pueda parecer una tecnología muy joven, su crecimiento ha sido muy significativo.

\section{Realidad aumentada en museos}
%-------------------------------------------------------------------
\label{cap2:sec:museos}

La RA ha supuesto un avance muy importante en los museos ya que aporta nuevas experiencias para los visitantes. Se usan diferentes formas de usar la RA en el museo, desde aportar información adicional de un objeto expuesto (enlace a un vídeo, descarga de contenido extra, más información en texto, audios\ldots{}) hasta búsquedas del tesoro, yincanas como la desarrollada en este trabajo\ldots{} todo ello son experiencias añadidas y nuevas para la mayoría de museos.

A parte de los beneficios para el público, para el museo son formas de añadir contenido muy baratas en relación con lo que puede costar hacer obras para añadir salas, expositores\ldots{} Además, se puede añadir contenido adicional a las aplicaciones, consiguiendo que el público vuelva. Sí se puede contemplar la posibilidad de tener smartphones y/o tabletas para el público visitante, una red WiFi abierta para facilitar la descarga de la aplicación.

\subsection{El museo García-Santesmases}
\label{cap2:sub:santesmases}

Inaugurado en noviembre del 2003, el museo debe su nombre al físico, profesor y precursor de la informática española José García Santesmases, el cual fue catedrático de la Universidad Complutense. En él, se exponen máquinas desarrolladas por la UCM entre 1970 y 1950. Además, se exponen las computadoras comerciales del Centro de Cálculo de la UCM, aportaciones de particulares, los propios departamentos de la Universidad, etcétera.

\figura{Tfg/santesmases.jpg}{width=.5\textwidth}{fig:profesorSantesmases}
	{ Retrato de José García Santesmases por Eulogia Merle}

Además de computadoras, hay paneles explicativos que muestran información sobre éstas y sobre historia de la informática en general y cuenta también con gran cantidad de bibliografía presente en la biblioteca de la facultad.

El museo cuenta con dos plantas situadas en la 3ª y 4ª planta de la Facultad de Informática y su pieza más significativa es el ``Analizador diferencial electrónico'', diseñado por García Santesmases y es el primer computador desarrollado en España.

\subsection{Otros museos}
\label{cap2:sub:otrosmuseos}

Vamos a ver algunos de los museos que aplican la RA:

\begin{itemize}
\item{Centro de artes Ca l'Arenas del Museo de Mataró: para la exposición Mar de Fons el museo dispone de una aplicación que, al enfocar a cualquiera de los cuadros, se muestra información extra.}
\end{itemize}

%https://www.google.com/url?q=http://blogs.elpais.com/arte-en-la-edad-silicio/2012/05/construye-tu-propia-exhibicion.html\&sa=D\&ust=1464799690059000\&usg=AFQjCNEt_qw-SWuNUdtititu4dlhnNVyaw}{http://blogs.elpais.com/arte-en-la-edad-silicio/2012/05/construye-tu-propia-exhibicion.html

\figura{Tfg/museoMataro.jpg}{width=.5\textwidth}{fig:inaveders0}
	{Aplicación del Museo de Mataró}

\begin{itemize}
\item{Street Museum del Museo de Londres: una de las más famosas. Añade contenidos en el exterior del museo. Básicamente, nos permite ver fotografías antiguas de los sitios donde estamos, dándonos una visión de cómo era mientras vemos cómo es ahora ayudándose del posicionamiento GPS del dispositivo.}
%http://www.museumoflondon.org.uk/Resources/app/you-are-here-app/home.html\&sa=D\&ust=1464799690061000\&usg=AFQjCNHSmkQacw30ljnyv7J_7XluPlwZiw}{http://www.museumoflondon.org.uk/Resources/app/you-are-here-app/home.html
\end{itemize}

\figura{Tfg/streetmuseum.jpg}{width=.5\textwidth}{fig:streetmuseum}
	{StreetMuseum}

%http://www.noordtopics.nl/cultuur/2012\_05\_29-5.shtm

\begin{itemize}
\item{Crononautas del Museo Thyssen-Bornemisza de Madrid: esta aplicación pone al usuario como protagonista de una aventura con toques de ciencia ficción donde el usuario debe tomar decisiones que afectarán a la aventura. Además de servir de hilo conductor para la visita en el museo, aporta contenido adicional sobre las obras.}
\end{itemize}

\figura{Tfg/crononautas.jpg}{width=.5\textwidth}{fig:crononautas}
	{Crononautas}

\begin{itemize}
\item{RACMA del Museo de América de Madrid: aplicación desarrollada por compañeros de esta misma facultad el curso pasado. En ella se ofrece información a los usuarios sobre distintas sociedades precolombinas. Además, nos muestra sobre un gran mapa mudo que se encuentra en el museo el lugar de influencia de varias de esas tribus y se puede interactuar con los personajes.}
\end{itemize}

\figura{Tfg/racma.png}{width=.5\textwidth}{fig:racma}
	{Captura de RACMA que muestra las zonas de influencia de las sociedades precolombinas.}

\section{Herramientas de desarrollo}
%-------------------------------------------------------------------
\label{cap2:sec:herramientas}

En este apartado explicaremos las herramientas que hemos utilizado para la realización de este proyecto.

\subsection{Vuforia}
\label{cap2:sub:vuforia}

Vuforia es el framework que hemos utilizado para hacer toda la parte de RA. Es gratuito y tiene una gran comunidad, así como buenos ejemplos y tutoriales. Facilita mucho el trabajo, y se puede utilizar con diferentes SDK (Android, iOs, Unity 3D, ahora con gafas de realidad virtual también\ldots{}).

\subsection{Cómo generar realidad aumentada}
\label{cap2:sub:comogenerar}

Básicamente, Vuforia superpone a la imagen tomada por la cámara de, en este caso, nuestro Smartphone, cualquier modelo en tres dimensiones que queramos sobre la posición de un~Image Target~(u otro marcador) que le hayamos indicado. De esta manera, tenemos un ``fondo'' con la imagen tomada por la cámara, con modelos en tres dimensiones ``por encima''. Además, nos mantiene siempre los objetos de tres dimensiones en el mismo punto del espacio, por lo que si movemos nuestra cámara, cambiará la perspectiva desde donde vemos el objeto, pudiendo girar alrededor de éste. El comportamiento puede ser diferente, dependiendo de cómo lo hayamos configurado (podemos hacer que el objeto persista aun que perdamos de vista el detector).

\subsection{Plataformas de desarrollo}
\label{cap2:sub:plataformas}

Vuforia proporciona paquetes para trabajar directamente con el SDK de Android o el de iOS, así como para Unity3D. Utilizando Unity3D
podemos exportarlo después a una aplicación de Android o iOS también, aunque no quedaría de una manera tan ``pulida'' como desarrollándola directamente con el SDK del sistema operativo deseado. Nosotros hemos decidido utilizar el paquete para Unity3D porque los tres teníamos unos conocimientos básicos en desarrollo con Unity, además de que nos permite exportar después el proyecto al sistema operativo que quisiéramos.

\subsection{Unity3D}
\label{cap2:sub:unity}

Unity funciona con algo a lo que han llamado~escenas, que son diferentes situaciones o niveles del juego. En toda escena hay una jerarquía de objetos que la componen, y de cada objeto pueden~colgar~otros objetos, además de que se pueden añadir (por medio de código programable) otros objetos a esa jerarquía de manera dinámica. Todos los objetos de Unity tienen una serie de componentes, el más básico sería el de su situación en las tres dimensiones (o dos), su escala y su rotación con respecto a los tres planos. Estos componentes permiten configurar los objetos de manera sencilla, encapsulando funcionalidades. Esta forma de ``componer'' los objetos no es casual: es la más utilizada en programación de videojuegos.

Además, Unity cuenta con una extensísima comunidad de desarrolladores, así como tutoriales, guías, dudas resueltas\ldots{} solo con los tutoriales que proporciona la propia gente de Unity podemos hacer un sencillo juego casi de cada uno de los tipos más comunes de juegos.

Unity nos proporciona por defecto el cálculo de colisiones entre objetos, gravedad, eventos de teclado o ratón\ldots{} en pocos minutos podemos hacer cosas sencillas pero que con otras herramientas, o programándolo directamente a mano con un lenguaje de programación cualquiera como podría ser Java o C++, nos llevarían bastante más tiempo.

\subsection{C\#}
\label{cap2:sub:csharp}

Los scripts los podemos escribir en C\#, Boo o un lenguaje ``parecido'' a JavaScript. Nosotros hemos decidido utilizar C\#, ya que era la opción que más nos convencía por varias razones:

\begin{itemize}
\item{Hemos leído que es más eficiente.} 
%http://answers.unity3d.com/questions/7567/is-there-a-performance-difference-between-unitys-j.html
\item{Los tres teníamos conocimientos previos de Java, y C\# es muy similar a Java en cuanto a sintaxis.}
\item{Es el más usado por la comunidad.}
%http://forum.unity3d.com/threads/boo-c-and-javascript-in-unity-experiences-and-opinions.18507
\end{itemize}

Todos los Scripts utilizados en Unity heredan de la clase MonoBehaviour, la cual permite a estos scripts integrarse con la ejecución interna de Unity. Toda clase que herede de MonoBehaviour tiene los métodos Start (), Awake (), Update (), FixedUpdate (), y OnGUI (), entre otros.

Éstos se ejecutan en diferentes momentos del juego.

\begin{enumerate}
\item{Awake (): el primer método al que se llama, antes incluso de que el objeto asociado esté habilitado en la escena. Se utiliza  para inicializaciones o referencias entrescripts.}
\item{Start (): se ejecuta después de Awake (), justo antes del primer Update () y después de que se active el objeto.}
\item{Update (): se ejecuta en cada frame. Esto hace que dependa del procesador y del equipo donde se ejecuta. Se usa para actualizaciones comunes como mover objetos no físicos, recoger entrada del usuario\ldots{}}
\item{FixedUpdate (): el intervalo entre una ejecución y otra es consistente y siempre el mismo. Se utiliza para actualizaciones como ajustar objetos físicos.}
\item{OnGUI (): se utiliza para gestionar y renderizar eventos de la Interfaz Gráfica de Usuario (Graphic User Interface, GUI). Sólo es llamada si el objeto está habilitado.}
\end{enumerate}

\subsection{Unity3D + Vuforia}
\label{cap2:sub:unityvuforia}

Vuforia nos proporciona un paquete de extensión de Unity 3D el cual debemos importar para trabajar. Éste paquete contiene diferentes prefabs (objetos ya construidos) que nos harán la tarea muy sencilla.

Lo que debe tener toda aplicación de RA hecha con Vuforia y Unity 3D es una ARCamera (cámara de RA). A ésta hay que indicarle el product key que nos da Vuforia desde su portal para desarrolladores, además de ésto, se le indicará el paquete de targets~propios (lo explicaremos más adelante en profundidad). Es la unidad mínima de desarrollo de RA con Vuforia.

Una vez hecho esto, tendremos diferentes opciones para lanzar los objetos de RA, que deben colgar en la jerarquía de Unity de cualquiera de los siguientes prefabs:

\begin{itemize}
\item{Frame Markers: Son marcadores muy sencillos que son proporcionados por la gente de Vuforia en su paquete. Se pueden utilizar para calibrar la cámara, pero no tienen una gran calidad a la hora de ser detectados. Son lo más sencillo para comenzar una aplicación de prueba.}
\item{Image Targets: Imágenes propias del desarrollador. Funcionan como los Frame Markers, pero éstas deben ser importadas desde un paquete generado por el portal de desarrolladores de Vuforia, el cual nos indicará la calidad de esa imagen para ser detectada.}
%\includegraphics{images/image11.png} Figura5: Ejemplo de calidad de un ImageTarget en la plataforma para desarrolladores de Vuforia
\item{Multi-Targets: Son varios ImageTargets que representan las diferentes caras de un prisma en tres dimensiones.}
\item{Cylinder Targets: ImageTarget que envuelve un cilindro, para representar, por ejemplo, una botella u otro objeto similar.}
\item{Text Recognition: Nos permite detectar textos, ya sean del diccionario proporcionado por Vuforia de palabras en inglés (más de 100.000 palabras diferentes) o de uno creado por nosotros mismos.}
\item{Object Recognition: Sirve para configurar un objeto en tres dimensiones que no sea ninguno de los anteriores.}
\item{Smart Terrain: Permite reconstruir el entorno del usuario de la aplicación en tres dimensiones.}
\end{itemize}

%\includegraphics{images/image13.png} Figura 3: Ejemplo de aplicación con Smart Terrain

Con cualquiera de estos objetos, la funcionalidad por defecto (que podemos modificar creando nuestras propias clases que hereden de las que nos da Vuforia) es que al detectarse (ya sea un ImageTarget, un Text Recognition, etcétera) se comenzarán a mostrar todos los objetos que cuelguen de él en la jerarquía de Unity.

%-------------------------------------------------------------------
\section*{\NotasBibliograficas}
%-------------------------------------------------------------------
\TocNotasBibliograficas

Citamos algo para que aparezca en la bibliografía\ldots
\citep{ldesc2e}

\medskip

% Variable local para emacs, para  que encuentre el fichero maestro de
% compilación y funcionen mejor algunas teclas rápidas de AucTeX
%%%
%%% Local Variables:
%%% mode: latex
%%% TeX-master: "../Tesis.tex"
%%% End:
